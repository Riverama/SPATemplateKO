/*!!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
(function(){var n=function(n){return function(t){function w(n){return String(n||"").replace(/\W/g,"\\$&")}function f(n){if(!n)return"";var t=new RegExp("^"+w(i.prependHash)+"|"+w(i.appendHash)+"$","g");return n.replace(t,"")}function y(){var t=tt.exec(i.getURL()),n=t&&t[1]||"";try{return i.raw?n:decodeURIComponent(n)}catch(r){return n}}function b(){return u?u.contentWindow.frameHash:null}function ft(){u=o.createElement("iframe");u.src="about:blank";u.style.display="none";o.body.appendChild(u)}function k(){if(u&&r!==b()){var n=u.contentWindow.document;n.open();n.write("<html><head><title>"+o.title+'<\/title><script type="text/javascript">var frameHash="'+r+'";<\/script><\/head><body>&nbsp;<\/body><\/html>');n.close()}}function h(n,t){if(r!==n){var e=r;r=n;v&&(t?u.contentWindow.frameHash=n:k());i.changed.dispatch(f(n),f(e))}}function et(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)}function ot(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent&&n.detachEvent("on"+t,i)}function d(n){n=Array.prototype.slice.call(arguments);var t=n.join(i.separator);return t?i.prependHash+t.replace(rt,"")+i.appendHash:t}function g(n){return n=encodeURI(n),p&&ut&&(n=n.replace(/\?/,"%3F")),n}var nt=25,o=t.document,st=t.history,c=n.Signal,i,r,l,e,u,s,tt=/#(.*)$/,it=/(\?.*)|(\#.*)/,rt=/^\#/,p=!+"\v1",a="onhashchange"in t&&o.documentMode!==7,v=p&&!a,ut=location.protocol==="file:";return s=v?function(){var n=y(),t=b();t!==r&&t!==n?i.setHash(f(t)):n!==r&&h(n)}:function(){var n=y();n!==r&&h(n)},i={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new c,stopped:new c,initialized:new c,init:function(){e||(r=y(),a?et(t,"hashchange",s):(v&&(u||ft(),k()),l=setInterval(s,nt)),e=!0,i.initialized.dispatch(f(r)))},stop:function(){e&&(a?ot(t,"hashchange",s):(clearInterval(l),l=null),e=!1,i.stopped.dispatch(f(r)))},isActive:function(){return e},getURL:function(){return t.location.href},getBaseURL:function(){return i.getURL().replace(it,"")},setHash:function(n){n=d.apply(null,arguments);n!==r&&(h(n),n===r&&(i.raw||(n=g(n)),t.location.hash="#"+n))},replaceHash:function(n){n=d.apply(null,arguments);n!==r&&(h(n,!0),n===r&&(i.raw||(n=g(n)),t.location.replace("#"+n)))},getHash:function(){return f(r)},getHashAsArray:function(){return i.getHash().split(i.separator)},dispose:function(){i.stop();i.initialized.dispose();i.stopped.dispose();i.changed.dispose();u=i=t.hasher=null},toString:function(){return'[hasher version="'+i.VERSION+'" hash="'+i.getHash()+'"]'}},i.initialized.memorize=!0,i}(window)};typeof define=="function"&&define.amd?define("hasher",["signals"],n):typeof exports=="object"?module.exports=n(require("signals")):window.hasher=n(window.signals)})();
//# sourceMappingURL=hasher.min.js.map
